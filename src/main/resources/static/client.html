<html>
<head><title>Spectrum Web Sockets</title>
    <script>
        // var socket = new WebSocket("algorand.spectrum.websocket.api.ws://testnet.telos.eostribe.io/streaming");
        var socket = new WebSocket("ws://172.16.10.124:8080/streaming");
        messageBody = {
            "apikey":"test-api-key",
            "event":"subscribe",
            "type":"get_blocks"
        };

        socket.onopen = function(e) {
            console.log("[open] Connection established");
            console.log("Sending to server");
            socket.send(messageBody);
        };

        socket.onmessage = function(event) {
            console.log("[message] Data received from server: ${event.data}");
        };

        socket.onclose = function(event) {
            if (event.wasClean) {
                console.log("[close] Connection closed cleanly, code=${event.code} reason=${event.reason}");
            } else {
                console.log("[close] Connection died");
            }
        };

        socket.onerror = function(error) {
            console.log("[error] ${error.message}");
        };

    </script>
</head>
<body>
<h2>Spectrum Web Sockets Test</h2>
<div id="log"></div>
</body>